# ç¬¬12ç« ï¼šOrchestrationå…¥é–€ï¼ˆå¸ä»¤å¡”ã®å½¹å‰²ï¼‰ğŸ»ğŸ§ 

## ã“ã®ç« ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ğŸ¯âœ¨

* ã€Œã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¸ä»¤å¡”æ–¹å¼ï¼‰ã€ãŒä½•ã‹ã‚’èª¬æ˜ã§ãã‚‹ğŸ˜Š
* å¸ä»¤å¡”ï¼ˆOrchestratorï¼‰ãŒ**åˆ¤æ–­ã™ã‚‹ã“ã¨ï¼ã—ãªã„ã“ã¨**ã‚’æ•´ç†ã§ãã‚‹ğŸ§¹
* â€œæœ€å°Sagaâ€ã®**å¸ä»¤å¡”ToDoãƒªã‚¹ãƒˆ**ã‚’è‡ªåˆ†ã§æ›¸ã‘ã‚‹ğŸ“ğŸ’–

---

# 1) Orchestrationã£ã¦ãªã«ï¼ŸğŸ»âœ¨ï¼ˆã²ã¨ã“ã¨ã§ï¼‰

ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€**ä¸­å¤®ã®å¸ä»¤å¡”ï¼ˆã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒã€å„ã‚µãƒ¼ãƒ“ã‚¹ã«ã€Œæ¬¡ã¯ã“ã‚Œã‚„ã£ã¦ã­ã€ã£ã¦æŒ‡ç¤ºã—ã¦ã€é€²æ—ã‚’è¨˜éŒ²ã—ã¦ã€å¤±æ•—ã—ãŸã‚‰è£œå„Ÿã‚‚æŒ‡ç¤ºã™ã‚‹æ–¹å¼**ã ã‚ˆğŸ“£ğŸ§¾
Microsoftã®Azure Architecture Centerã§ã‚‚ã€ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒ**çŠ¶æ…‹ã‚’ä¿å­˜ã—ã€å„ã‚¿ã‚¹ã‚¯ã®çŠ¶æ…‹ã‚’è§£é‡ˆã—ã€è£œå„Ÿãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§å›å¾©**ã™ã‚‹ã¨èª¬æ˜ã•ã‚Œã¦ã‚‹ã‚ˆğŸ“šâœ… ([Microsoft Learn][1])

---

# 2) ãŸã¨ãˆè©±ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã™ã‚‹ğŸ¬ğŸ›’ğŸ’³ğŸ“¦

ã€Œæ³¨æ–‡ã®æ—…ã€ã‚’æƒ³åƒã—ã¦ã¿ã‚ˆã€œğŸš¶â€â™€ï¸âœ¨
ä¾‹ï¼š

1. æ³¨æ–‡ã‚’ä½œã‚‹ğŸ›’
2. æ±ºæ¸ˆã™ã‚‹ğŸ’³
3. åœ¨åº«ã‚’ç¢ºä¿ã™ã‚‹ğŸ“¦
4. ç™ºé€æ‰‹é…ã™ã‚‹ğŸšš

## âœ… å¸ä»¤å¡”æ–¹å¼ã ã¨ã“ã†ãªã‚‹

* å¸ä»¤å¡”ãŒã€Œæ¬¡ã¯æ±ºæ¸ˆã­ï¼ã€ã£ã¦æŒ‡ç¤ºã™ã‚‹ğŸ»ğŸ“£
* å„ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€è¨€ã‚ã‚ŒãŸã“ã¨ã‚’å®Ÿè¡Œã—ã¦ã€Œã§ããŸã‚ˆï¼å¤±æ•—ã—ãŸã‚ˆã€ã‚’è¿”ã™ğŸ“¨
* å¸ä»¤å¡”ã¯ã€Œä»Šã©ã“ã¾ã§æˆåŠŸã—ãŸã‹ã€ã‚’**è¨˜éŒ²**ã™ã‚‹ğŸ§¾
* é€”ä¸­ã§å¤±æ•—ã—ãŸã‚‰ã€å¸ä»¤å¡”ãŒã€Œã˜ã‚ƒã‚æˆ»ãã†ï¼ã€ã£ã¦**è£œå„Ÿã‚’é€†é †ã§æŒ‡ç¤º**ã™ã‚‹ğŸ§¯ğŸ”

![Orchestrator Role](./picture/saga_ts_study_012_orchestrator.png)

```mermaid
graph TD
    Orch[Orchestrator ğŸ»]
    O[Order Srv] -- Request --> Orch
    Orch -- "1. æ±ºæ¸ˆã›ã‚ˆ" --> P[Payment Srv]
    P -- "2. OK/NG" --> Orch
    Orch -- "3. åœ¨åº«ç¢ºä¿ã›ã‚ˆ" --> I[Inventory Srv]
    I -- "4. OK/NG" --> Orch
    
    style Orch fill:#fff9c4,stroke:#fbc02d
```

---

# 3) å¸ä»¤å¡”ãŒåˆ¤æ–­ã™ã‚‹ã“ã¨ï¼ˆè¶…é‡è¦ï¼‰ğŸ§ âœ…

å¸ä»¤å¡”ã®ä»•äº‹ã¯ã€Œå®Ÿè¡Œã€ã˜ã‚ƒãªãã¦ã€ŒæŒ‡æ®ã€ã ã‚ˆğŸ»âœ¨
ä»£è¡¨çš„ã«ã¯ã“ã‚“ãªæ„Ÿã˜ğŸ‘‡

## 3.1 æ¬¡ã«é€²ã‚€ã‹ï¼Ÿæ­¢ã‚ã‚‹ã‹ï¼Ÿã‚’æ±ºã‚ã‚‹ğŸš¦

* Step AãŒæˆåŠŸ â†’ Step Bã¸âœ…
* Step BãŒå¤±æ•— â†’ è£œå„Ÿã¸ğŸ§¯
* ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ãŸ â†’ å¤±æ•—æ‰±ã„ï¼Ÿãƒªãƒˆãƒ©ã‚¤ï¼Ÿâ°

## 3.2 â€œé€²æ—â€ã‚’è¨˜éŒ²ã™ã‚‹ğŸ“ğŸ§¾

* ã©ã“ã¾ã§çµ‚ã‚ã£ãŸï¼Ÿ
* ã©ã®StepãŒæˆåŠŸã—ãŸï¼Ÿ
* ã„ã¾çŠ¶æ…‹ã¯ä½•ï¼Ÿï¼ˆå®Ÿè¡Œä¸­ï¼è£œå„Ÿä¸­ï¼å®Œäº†â€¦ï¼‰

Azureã®Sagaãƒ‘ã‚¿ãƒ¼ãƒ³èª¬æ˜ã§ã‚‚ã€ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒçŠ¶æ…‹ã‚’ä¿å­˜ã—ã¦åˆ¤æ–­ã™ã‚‹ã¨ã•ã‚Œã¦ã‚‹ã‚ˆğŸ—‚ï¸ ([Microsoft Learn][1])

```mermaid
graph LR
    Orch[Orchestrator]
    DB[(Saga Log DB)]
    Command[Command]
    
    Orch -- "1. çŠ¶æ…‹ä¿å­˜" --> DB
    Orch -- "2. é€ä¿¡" --> Command
    Command -- "3. å®Œäº†é€šçŸ¥" --> Orch
    Orch -- "4. æ¬¡ã®çŠ¶æ…‹ä¿å­˜" --> DB
```

## 3.3 å¤±æ•—æ™‚ã«ã€Œè£œå„Ÿã€ã‚’ç™ºå‹•ã™ã‚‹ğŸ§¯ğŸ”

* æˆåŠŸã—ãŸStepã ã‘ã‚’é€†é †ã§æˆ»ã™ï¼ˆã§ãã‚‹ç¯„å›²ã§ï¼‰
* è£œå„ŸãŒå¤±æ•—ã—ãŸã‚‰ï¼Ÿ â†’ è¿½åŠ ã®ã‚¨ãƒ©ãƒ¼æ‰±ã„ï¼ˆäººæ‰‹å¯¾å¿œã‚„å†è©¦è¡Œï¼‰ã¸ğŸš¨

---

# 4) å¸ä»¤å¡”ãŒ â€œã‚„ã‚‰ãªã„ã“ã¨â€ ã‚‚æ±ºã‚ã‚ˆã†ğŸ™…â€â™€ï¸ğŸ§±

ã“ã“ã€è¨­è¨ˆãŒæ€¥ã«ä¸Šæ‰‹ããªã‚‹ãƒã‚¤ãƒ³ãƒˆã ã‚ˆâœ¨

## âŒ å¸ä»¤å¡”ã«å…¥ã‚Œãªã„æ–¹ãŒã„ã„ã‚‚ã®

* æ±ºæ¸ˆã®ç´°ã‹ã„ãƒ­ã‚¸ãƒƒã‚¯å…¨éƒ¨ğŸ’³ï¼ˆãã‚Œã¯æ±ºæ¸ˆã‚µãƒ¼ãƒ“ã‚¹ã®è²¬å‹™ï¼‰
* åœ¨åº«è¨ˆç®—ã®è©³ç´°ğŸ“¦ï¼ˆåœ¨åº«ã‚µãƒ¼ãƒ“ã‚¹ã®è²¬å‹™ï¼‰
* ç™ºé€ä¼šç¤¾ã”ã¨ã®åˆ†å²åœ°ç„ğŸššï¼ˆç™ºé€ã‚µãƒ¼ãƒ“ã‚¹ã®è²¬å‹™ï¼‰

## âœ… å¸ä»¤å¡”ãŒæŒã¤ã®ã¯ã€Œè–„ã„åˆ¤æ–­ã€

* æˆåŠŸ/å¤±æ•—ã®åˆ¤å®š
* æ¬¡ã®Stepã®é¸æŠ
* çŠ¶æ…‹ã®è¨˜éŒ²
* è£œå„Ÿã®é–‹å§‹ã¨é †ç•ª

```mermaid
flowchart TD
    Start([é–‹å§‹]) --> Step1[Step 1: æ±ºæ¸ˆ]
    Step1 -- æˆåŠŸ --> Step2[Step 2: åœ¨åº«]
    Step2 -- æˆåŠŸ --> Step3[Step 3: ç™ºé€]
    Step3 -- æˆåŠŸ --> End([å®Œäº†])
    
    Step1 -- å¤±æ•— --> Comp1[Comp 1: è¿”é‡‘]
    Step2 -- å¤±æ•— --> Comp2[Comp 2: åœ¨åº«æˆ»ã—]
    Comp2 --> Comp1
    Step3 -- å¤±æ•— --> Comp3[Comp 3: ç™ºé€åœæ­¢]
    Comp3 --> Comp2
```

---

# 5) Orchestrationã®â€œå¼·ã¿â€ã¨â€œå¼±ã¿â€ğŸŒŸğŸ§¯

## ğŸŒŸ å¼·ã¿ï¼ˆå­¦ã³ã‚„ã™ã„ï¼†é‹ç”¨ã—ã‚„ã™ã„ï¼‰

* æµã‚ŒãŒä¸€ç®‡æ‰€ã§è¦‹ãˆã‚‹ğŸ‘€âœ¨
* ãƒ­ã‚°ãƒ»ç›£è¦–ãŒã¾ã¨ã‚ã‚„ã™ã„ğŸ”
* å¤±æ•—æ™‚ã®è£œå„Ÿã‚‚ã€å¸ä»¤å¡”ä¸­å¿ƒã§æ•´ç†ã§ãã‚‹ğŸ§ 

## ğŸ§¯ å¼±ã¿ï¼ˆã‚„ã‚Šã™ãæ³¨æ„ï¼‰

* å¸ä»¤å¡”ãŒè‚¥å¤§åŒ–ã—ãŒã¡ğŸ”ğŸ’¦
* å¸ä»¤å¡”ãŒæ­¢ã¾ã‚‹ã¨å…¨ä½“ãŒæ­¢ã¾ã‚Šã‚„ã™ã„ğŸ›‘
  â†’ ã ã‹ã‚‰ã€Œã‚„ã‚‰ãªã„ã“ã¨ã€ã‚’æ±ºã‚ã‚‹ã®ãŒå¤§äº‹ã ã£ãŸã­ğŸ™†â€â™€ï¸âœ¨

---

# 6) â€œæœ€å°æ§‹æˆâ€ã®å…¨ä½“å›³ï¼ˆã‚³ãƒãƒ³ãƒ‰ã¨çµæœï¼‰ğŸ—ºï¸ğŸ“¨

å¸ä»¤å¡”æ–¹å¼ã¯ã€ã–ã£ãã‚Šã“ã†ã„ã†ä¼šè©±ã«ãªã‚‹ã‚ˆğŸ‘‡

* å¸ä»¤å¡” â†’ æ±ºæ¸ˆã‚µãƒ¼ãƒ“ã‚¹ï¼šã€Œæ±ºæ¸ˆã—ã¦ã€ğŸ“£
* æ±ºæ¸ˆã‚µãƒ¼ãƒ“ã‚¹ â†’ å¸ä»¤å¡”ï¼šã€ŒæˆåŠŸã—ãŸã‚ˆï¼å¤±æ•—ã—ãŸã‚ˆã€ğŸ“¨
* å¸ä»¤å¡” â†’ åœ¨åº«ã‚µãƒ¼ãƒ“ã‚¹ï¼šã€Œåœ¨åº«ç¢ºä¿ã—ã¦ã€ğŸ“£
* â€¦
* å¤±æ•—ã—ãŸã‚‰ï¼šå¸ä»¤å¡” â†’ ã€Œè£œå„Ÿã—ã¦ã€ğŸ§¯

ã“ã® â€œæŒ‡ç¤ºâ†’çµæœâ†’æ¬¡ã‚’æ±ºã‚ã‚‹â€ ã®ç¹°ã‚Šè¿”ã—ãŒã€ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å¿ƒè‡“éƒ¨ã ã‚ˆğŸ’“ğŸ»

---

# 7) TypeScriptã§è¦‹ã‚‹ã€Œå¸ä»¤å¡”ã®éª¨æ ¼ã€ğŸ¦´ğŸ§‘â€ğŸ’»

ã“ã“ã§ã¯**æœ€å°ã®å½¢**ã‚’è¦‹ã¦ã€é ­ã®ä¸­ã«å‹ã‚’ä½œã‚‹ã‚ˆğŸ˜Šâœ¨
ï¼ˆæœ¬æ ¼å®Ÿè£…ã¯æ¬¡ç« ä»¥é™ã§è‚²ã¦ã¦ã„ãã‚¤ãƒ¡ãƒ¼ã‚¸ğŸŒ±ï¼‰

```ts
type SagaStatus =
  | "PENDING"
  | "RUNNING"
  | "COMPLETED"
  | "FAILED"
  | "COMPENSATING"
  | "COMPENSATED";

type StepResult = { ok: true } | { ok: false; reason: string };

type Step = {
  name: string;
  run: () => Promise<StepResult>;
  compensate?: () => Promise<void>;
};

type SagaLog = {
  sagaId: string;
  status: SagaStatus;
  executed: string[]; // å®Ÿè¡Œæ¸ˆã¿Stepåï¼ˆé †æ–¹å‘ï¼‰
  startedAt: number;
  updatedAt: number;
  lastError?: string;
};

async function runSaga(sagaId: string, steps: Step[]): Promise<SagaLog> {
  const log: SagaLog = {
    sagaId,
    status: "RUNNING",
    executed: [],
    startedAt: Date.now(),
    updatedAt: Date.now(),
  };

  try {
    for (const step of steps) {
      const result = await step.run();

      if (!result.ok) {
        throw new Error(`[${step.name}] failed: ${result.reason}`);
      }

      log.executed.push(step.name);
      log.updatedAt = Date.now();
    }

    log.status = "COMPLETED";
    log.updatedAt = Date.now();
    return log;
  } catch (e) {
    log.status = "FAILED";
    log.lastError = e instanceof Error ? e.message : String(e);
    log.updatedAt = Date.now();

    // è£œå„Ÿãƒ•ã‚§ãƒ¼ã‚ºï¼ˆé€†é †ï¼‰
    log.status = "COMPENSATING";
    log.updatedAt = Date.now();

    const executedSteps = steps.filter(s => log.executed.includes(s.name)).reverse();
    for (const step of executedSteps) {
      if (step.compensate) {
        await step.compensate();
      }
    }

    log.status = "COMPENSATED";
    log.updatedAt = Date.now();
    return log;
  }
}
```

```mermaid
sequenceDiagram
    participant Orch as Orchestrator
    participant Executed as [Log] executedSteps
    participant Service as å„ã‚µãƒ¼ãƒ“ã‚¹

    Note over Orch: å¤±æ•—ç™ºç”Ÿï¼âŒ
    Orch->>Executed: å±¥æ­´ã‚’ãƒ­ãƒ¼ãƒ‰ (reverse)
    loop é€†é †ã«è£œå„Ÿ
        Executed-->>Orch: æ¬¡ã®è£œå„Ÿå¯¾è±¡ (Step X)
        Orch->>Service: compensate(Step X)
        Service-->>Orch: OK
    end
    Note over Orch: è£œå„Ÿå®Œäº† (COMPENSATED)
```


## ã“ã“ã§æŠ¼ã•ãˆã‚‹ãƒã‚¤ãƒ³ãƒˆâœ…âœ¨

* å¸ä»¤å¡”ã¯ã€Œé †æ–¹å‘Stepã€ã‚’é †ç•ªã«å®Ÿè¡Œã—ã¤ã¤ã€**å®Ÿè¡Œæ¸ˆã¿ã‚’è¨˜éŒ²**ã—ã¦ã‚‹ğŸ“’
* å¤±æ•—ã—ãŸã‚‰ã€å®Ÿè¡Œæ¸ˆã¿ã ã‘ã‚’**é€†é †ã«è£œå„Ÿ**ã—ã¦ã‚‹ğŸ§¯ğŸ”
* ã“ã®ç« ã§ã¯ã€Œéª¨æ ¼ã€ã ã‘ï¼

  * æœ¬å½“ã¯ã“ã“ã«ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆâ°ï¼ãƒªãƒˆãƒ©ã‚¤ğŸ”ï¼å†ªç­‰æ€§ğŸ”‘ï¼æ°¸ç¶šåŒ–ğŸ—‚ï¸ï¼è¦³æ¸¬æ€§ğŸ” ãŒä¹—ã£ã¦ãã‚‹ã‚ˆï¼ˆå¾Œã®ç« ã§ã¡ã‚ƒã‚“ã¨ã‚„ã‚‹ğŸ’ªï¼‰

---

# 8) ã€Œè‡ªä½œã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ã€ä»¥å¤–ã®é¸æŠè‚¢ã‚‚ã‚ã‚‹ã‚ˆğŸ§°âœ¨ï¼ˆæœ€æ–°ã®ä»£è¡¨ä¾‹ï¼‰

å®Ÿå‹™ã ã¨ã€å¸ä»¤å¡”ã‚’â€œè‡ªä½œâ€ã ã‘ã§ãªãã€**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼åŸºç›¤**ã«ä»»ã›ã‚‹ã“ã¨ã‚‚å¤šã„ã‚ˆğŸ˜Š

* **Temporal**ï¼šSagaï¼ˆè£œå„Ÿï¼‰ã‚’å«ã‚€é•·æœŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ‰±ã†ä»£è¡¨ä¾‹ã€‚Sagaã‚’ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å†…ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ç´¹ä»‹ã—ã¦ã‚‹ã‚ˆğŸ“š ([docs.temporal.io][2])

  * Temporalã¯ã€Œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ãƒªãƒ—ãƒ¬ã‚¤ã§ãã‚‹ï¼ˆdurable executionï¼‰ã€ãŸã‚ã«ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å´ã®ã‚³ãƒ¼ãƒ‰ã«â€œæ±ºå®šæ€§â€ãŒå¿…è¦â€¦ã¿ãŸã„ãªè€ƒãˆæ–¹ã‚‚å‡ºã¦ãã‚‹ã‚ˆğŸ”ğŸ§  ([learn.temporal.io][3])

* **AWS Step Functions**ï¼šã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã§Sagaï¼ˆè£œå„Ÿï¼‰ã‚’çµ„ã¿ç«‹ã¦ã‚‹è¨­è¨ˆä¾‹ãŒå…¬å¼ã«ã‚ã‚‹ã‚ˆâ˜ï¸ğŸ“® ([AWS ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][4])

* **Azureï¼ˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ã®Sagaï¼‰**ï¼šã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ã‚³ãƒ¬ã‚ªã‚°ãƒ©ãƒ•ã‚£ã®ä¸¡æ–¹ã‚’æ•´ç†ã—ã¦ã‚‹ã‚ˆğŸ§¾ ([Microsoft Learn][1])

> ã“ã“ã§ã¯ã€Œãã†ã„ã†é“å…·ã‚‚ã‚ã‚‹ã‚“ã ã€œã€ãã‚‰ã„ã§OKğŸ™†â€â™€ï¸
> ã¾ãšã¯ â€œå¸ä»¤å¡”ã®è€ƒãˆæ–¹â€ ã‚’ä½“ã«å…¥ã‚Œã‚‹ã®ãŒå‹ã¡âœ¨ğŸ»

---

# 9) ç« æœ«æ¼”ç¿’ï¼šå¸ä»¤å¡”ToDoã‚’æ›¸ãå‡ºãã†ğŸ“ğŸ»ğŸ’–

æ¬¡ã®ã€Œæ³¨æ–‡ãƒ•ãƒ­ãƒ¼Sagaã€ã‚’æƒ³å®šã—ã¦ã€**å¸ä»¤å¡”ã®ToDo**ã‚’æ›¸ã„ã¦ã¿ã¦ã­ğŸ˜Š
ï¼ˆç­”ãˆã¯1ã¤ã˜ã‚ƒãªã„ã‚ˆâœ¨ï¼‰

## ãŠé¡ŒğŸ›’

* Step1ï¼šæ³¨æ–‡ä½œæˆ
* Step2ï¼šæ±ºæ¸ˆ
* Step3ï¼šåœ¨åº«ç¢ºä¿
* Step4ï¼šç™ºé€æ‰‹é…

## 9.1 ToDoãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆã“ã‚Œã‚’åŸ‹ã‚ã‚‹ã ã‘ã§OKï¼‰âœ…

1. å¸ä»¤å¡”ãŒæŒã¤Saga IDã¯ï¼ŸğŸ†”
2. çŠ¶æ…‹ï¼ˆStatusï¼‰ã¯ä½•ç¨®é¡ã«ã™ã‚‹ï¼ŸğŸ“
3. é€²æ—ã¨ã—ã¦æœ€ä½é™ä½•ã‚’ä¿å­˜ã™ã‚‹ï¼ŸğŸ§¾
4. Stepã”ã¨ã®ã€ŒæˆåŠŸã®åˆ¤å®šã€ã¯ä½•ï¼Ÿâœ…
5. Stepã”ã¨ã®ã€Œå¤±æ•—æ™‚ã®è£œå„Ÿã€ã¯ä½•ï¼ŸğŸ§¯
6. ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¯ã©ã“ã«ã‹ã‘ã‚‹ï¼Ÿâ°ï¼ˆæ±ºæ¸ˆï¼Ÿåœ¨åº«ï¼Ÿï¼‰
7. ãƒªãƒˆãƒ©ã‚¤ã—ã¦è‰¯ã„å¤±æ•—ï¼ãƒ€ãƒ¡ãªå¤±æ•—ã¯ã©ã‚Œï¼ŸğŸ”âš ï¸
8. ãƒ­ã‚°ã«æ®‹ã™ã¹ãâ€œèª¿æŸ»ç”¨ã®æƒ…å ±â€ã¯ä½•ï¼ŸğŸ”

## 9.2 è¿½åŠ ãƒŸãƒ‹å•é¡Œï¼ˆã‚µã‚¯ãƒƒã¨ï¼‰ğŸ’¡

* ã€Œå¸ä»¤å¡”ãŒã‚„ã‚‰ãªã„ã“ã¨ã€ã‚’3ã¤æ›¸ã“ã†ğŸ™…â€â™€ï¸ğŸ§±
* å¸ä»¤å¡”æ–¹å¼ãŒåˆ†ã‹ã‚Šã‚„ã™ã„ç†ç”±ã‚’ã€1æ–‡ã§æ›¸ã“ã†âœï¸âœ¨

---

# ã‚³ãƒ©ãƒ ï¼šTypeScriptã®â€œã„ã¾â€ã‚’ã¡ã‚‡ã„ã ã‘ğŸ‘€âš¡

å¤§è¦æ¨¡ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§è¨­è¨ˆã‚’å›ã™ã¨ãã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«é€Ÿåº¦ã‚‚ã‘ã£ã“ã†å¤§äº‹ã ã‚ˆã­ğŸ˜Š
TypeScriptã¯ **5.9ãŒãƒªãƒªãƒ¼ã‚¹**ã•ã‚Œã¦ã„ã¦ã€ã•ã‚‰ã« **TypeScript 7ï¼ˆProject Corsaï¼‰ã¨ã—ã¦Goç§»æ¤ã«ã‚ˆã‚‹å¤§å¹…é«˜é€ŸåŒ–**ã®è©±ãŒé€²ã‚“ã§ã‚‹ã‚ˆğŸš€ ([Microsoft for Developers][5])
ï¼ˆå‹ã§çŠ¶æ…‹æ©Ÿæ¢°ã‚’ä½œã‚‹ã‚ˆã†ãªè¨­è¨ˆã¨ã‚‚ç›¸æ€§ãŒè‰¯ããªã‚‹æµã‚Œã€œâœ¨ğŸ§ ï¼‰

[1]: https://learn.microsoft.com/en-us/azure/architecture/patterns/saga?utm_source=chatgpt.com "Saga Design Pattern - Azure Architecture Center"
[2]: https://docs.temporal.io/evaluate/use-cases-design-patterns?utm_source=chatgpt.com "Temporal Use Cases and Design Patterns"
[3]: https://learn.temporal.io/tutorials/go/background-check/durable-execution/?utm_source=chatgpt.com "Develop code that durably executes"
[4]: https://docs.aws.amazon.com/prescriptive-guidance/latest/patterns/implement-the-serverless-saga-pattern-by-using-aws-step-functions.html?utm_source=chatgpt.com "Implement the serverless saga pattern by using AWS Step ..."
[5]: https://devblogs.microsoft.com/typescript/announcing-typescript-5-9/?utm_source=chatgpt.com "Announcing TypeScript 5.9"
