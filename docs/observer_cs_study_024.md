# ç¬¬24ç« ï¼šSpanã®åˆ‡ã‚Šæ–¹ã¨å‘½åğŸ§ ğŸ·ï¸ï¼ˆè¨­è¨ˆã®ã‚³ãƒ„ï¼‰

## ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯âœ¨

![ç”»åƒã‚’æŒ¿å…¥äºˆå®š](./picture/observer_cs_study_024_span_cut.png)

ã“ã®ç« ãŒçµ‚ã‚ã‚‹ã¨â€¦ğŸ‘‡

* **Spanã‚’ã€Œã©ã“ã§åˆ‡ã‚‹ã‹ã€**ã‚’ã€ç†ç”±ã¤ãã§æ±ºã‚ã‚‰ã‚Œã‚‹ğŸ§©
* **Spanåã‚’ã€Œãƒ–ãƒ¬ãªã„ãƒ«ãƒ¼ãƒ«ã€**ã§çµ±ä¸€ã§ãã‚‹ğŸ·ï¸
* **ç´°ã‹ã™ãğŸ˜±ï¼ç²—ã™ãğŸ˜‡**ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ã€è‡ªåˆ†ã§èª¿æ•´ã§ãã‚‹ğŸ›ï¸

---

## 1) ãã‚‚ãã‚‚ã€ŒSpanã‚’åˆ‡ã‚‹ã€ã£ã¦ä½•ï¼ŸğŸ§µâœ‚ï¸

Spanã¯ã€Œå‡¦ç†ã®åŒºåˆ‡ã‚Šã€ã‚’ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§è¦‹ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹â€œã—ã‚‹ã—â€ã ã‚ˆâœ¨
ã§ã‚‚ã€**åŒºåˆ‡ã‚Šæ–¹ãŒä¸‹æ‰‹**ã ã¨â€¦

* ç´°ã‹ã™ãğŸ‘‰ **ã‚¹ãƒ‘ãƒ³ãŒå¤§é‡**ã§èª­ã‚ãªã„ï¼†ã‚³ã‚¹ãƒˆå¢—ğŸ’¸ğŸ˜µ
* ç²—ã™ãğŸ‘‰ **ä½•ãŒé…ã„ã®ã‹åˆ†ã‹ã‚‰ãªã„**ï¼†èª¿æŸ»ãŒè¿·å­ğŸ§­ğŸ˜­

ãƒã‚¤ãƒ³ãƒˆã¯ã“ã‚ŒğŸ‘‡

> Spanåã¯ã€Œå€‹åˆ¥ã®1å›ã€ã˜ã‚ƒãªãã¦ã€ã€Œçµ±è¨ˆçš„ã«æ„å‘³ãŒã‚ã‚‹â€œå‡¦ç†ã®ç¨®é¡â€ã€ã‚’è¡¨ã™ã®ãŒè‰¯ã„
> ï¼ˆIDã¿ãŸã„ãªä¸€æ„å€¤ã¯åå‰ã«å…¥ã‚Œãªã„ï¼‰ğŸ·ï¸ğŸš« ([OpenTelemetry][1])

---

## 2) Spanã‚’åˆ‡ã‚‹â€œã„ã¡ã°ã‚“å¼·ã„åŸºæº–â€4ã¤ğŸ’ªâœ¨

![observer_cs_study_024_span_boundaries](./picture/observer_cs_study_024_span_boundaries.png)

### â‘  å¢ƒç•Œï¼ˆBoundaryï¼‰ã§åˆ‡ã‚‹ğŸš§

**ãƒ—ãƒ­ã‚»ã‚¹å¤–ã«å‡ºã‚‹ã¨ã“ã‚**ã¯ã€ã¾ãšSpanå€™è£œï¼

* DBå‘¼ã³å‡ºã—ğŸ—„ï¸
* å¤–éƒ¨HTTP/APIå‘¼ã³å‡ºã—ğŸŒ
* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¥ãƒ¼ğŸ“®
* ãƒ•ã‚¡ã‚¤ãƒ«I/OğŸ“

ã“ã“ã¯é…å»¶ã‚‚å¤±æ•—ã‚‚èµ·ãã‚„ã™ã„ã‹ã‚‰ã€SpanãŒã‚ã‚‹ã¨èª¿æŸ»ãŒè¶…ãƒ©ã‚¯ğŸ•µï¸â€â™€ï¸

```mermaid
mindmap
  root((Spanã‚’åˆ‡ã‚‹å ´æ‰€<br>Where?))
    Boundary_å¢ƒç•ŒğŸš§
      DBå‘¼ã³å‡ºã—ğŸ—„ï¸
      å¤–éƒ¨APIğŸŒ
      Queue/File I/OğŸ“®
    Latency_å¾…ã¡æ™‚é–“ğŸ¢
      Retryå‡¦ç†ğŸ”
      é‡ã„è¨ˆç®—ğŸ§®
    Logic_æ¥­å‹™å·¥ç¨‹ğŸ§©
      æ±ºæ¸ˆ/ç¢ºå®šğŸ’³
      é‡è¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´âœ…
    Outcome_é‡è¦çµæœğŸ’¥
      Success/Failåˆ†å²
      SLAã«é–¢ã‚ã‚‹ç®‡æ‰€
```

---

### â‘¡ å¾…ã¡æ™‚é–“ãŒã€Œç›®ç«‹ã¤ã€ã¨ã“ã‚ã§åˆ‡ã‚‹ğŸ¢â¡ï¸ğŸš€

* ãŸã¾ã«é‡ã„å‡¦ç†
* ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¾å­˜
* ãƒªãƒˆãƒ©ã‚¤ãŒçµ¡ã‚€
  ã“ã†ã„ã†ã®ã¯SpanãŒã‚ã‚‹ã¨ã€Œæ™‚é–“ã‚’é£Ÿã£ã¦ã‚‹çŠ¯äººã€ãŒä¸€ç¬ã§è¦‹ãˆã‚‹ğŸ‘€âœ¨

---

### â‘¢ â€œæ„å‘³ã®ã‚ã‚‹å·¥ç¨‹â€ã§åˆ‡ã‚‹ğŸ§©

ä¾‹ãˆã°æ³¨æ–‡å‡¦ç†ãªã‚‰â€¦

* æ¤œè¨¼âœ…
* åœ¨åº«å¼•å½“ğŸ“¦
* æ±ºæ¸ˆğŸ’³
* ä¿å­˜ğŸ—„ï¸

ã€Œæ¥­å‹™ã¨ã—ã¦ã®ã‚¹ãƒ†ãƒƒãƒ—ã€å˜ä½ã«SpanãŒã‚ã‚‹ã¨ã€ãƒãƒ¼ãƒ å…¨å“¡ãŒèª­ã‚ã‚‹ğŸ“šâœ¨

---

### â‘£ å¤±æ•—ã—ã‚„ã™ã„ï¼é‡è¦ãªã¨ã“ã‚ã§åˆ‡ã‚‹ğŸ’¥

* ä¾‹å¤–ãŒå‡ºã‚„ã™ã„
* SLAã«åŠ¹ã
* ãŠé‡‘ã«é–¢ã‚ã‚‹ğŸ’°
  ã“ã®ã¸ã‚“ã¯ã€Spanã§â€œå®ˆã‚‹â€ã¨å¼·ã„ğŸ›¡ï¸

---

## 3) ç´°ã‹ã™ãğŸ˜±ï¼ç²—ã™ãğŸ˜‡ã‚’è¦‹åˆ†ã‘ã‚‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…

### ç´°ã‹ã™ãã‚µã‚¤ãƒ³ï¼ˆã‚„ã‚ŠãŒã¡ï¼ï¼‰ğŸ§¨

* ãƒ«ãƒ¼ãƒ—ã®1å›ã”ã¨ã«Spanä½œã£ã¦ã‚‹ğŸ”ğŸ˜µ
* 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§SpanãŒä½•ç™¾å€‹ã‚‚å‡ºã‚‹ğŸ“ˆğŸ“ˆğŸ“ˆ
* SpanåãŒã€Œãƒ¡ã‚½ãƒƒãƒ‰åã ã‚‰ã‘ã€ã«ãªã£ã¦ã‚‹ï¼ˆèª­ã‚€äººãŒæ„å‘³å–ã‚Œãªã„ï¼‰ğŸ¤¯

ğŸ‘‰å¯¾ç­–ï¼š**Spanã˜ã‚ƒãªãã¦ã€ŒEventã€ã‚„ã€ŒTagï¼ˆå±æ€§ï¼‰ã€ã«å¯„ã›ã‚‹**ã®ãŒä¾¿åˆ©âœ¨
ï¼ˆSpanã¯â€œåŒºåˆ‡ã‚Šâ€ã€ç´°ã‹ã„å‡ºæ¥äº‹ã¯Event/å±æ€§ã¸ğŸ’ï¼‰

---

### ç²—ã™ãã‚µã‚¤ãƒ³ğŸ«¥

* ãƒ«ãƒ¼ãƒˆSpanã—ã‹ãªãã¦ã€ä¸­èº«ãŒçœŸã£é»’ï¼ˆä½•ãŒé…ã„ã‹ä¸æ˜ï¼‰ğŸ•³ï¸
* ã€Œå¤–éƒ¨APIãŒé…ã„ã®ã‹ã€DBãŒé…ã„ã®ã‹ã€ãŒåˆ†ã‹ã‚‰ãªã„ğŸ¤·â€â™€ï¸

ğŸ‘‰å¯¾ç­–ï¼šã¾ãšã¯ **å¤–éƒ¨I/Oï¼ˆDB/HTTPï¼‰ã ã‘SpanåŒ–** ã‹ã‚‰ã§OKğŸ‘Œ

---

## 4) å‘½åãƒ«ãƒ¼ãƒ«ï¼šSpanåã¯â€œä½ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£â€ãŒæ­£ç¾©ğŸ·ï¸âš–ï¸

![observer_cs_study_024_low_cardinality](./picture/observer_cs_study_024_low_cardinality.png)

Spanåã¯ã€**å¢—ãˆã™ããªã„ï¼ˆï¼ä½ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ï¼‰**ã®ãŒè¶…å¤§äº‹ï¼
OpenTelemetryã®APIä»•æ§˜ã§ã‚‚ã€**IDå…¥ã‚Šã¿ãŸã„ãªé«˜ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£åã¯NG**ã£ã¦æ˜ç¢ºã«è¨€ã£ã¦ã‚‹ã‚ˆğŸš« ([OpenTelemetry][1])

ä¾‹ğŸ‘‡

* âœ… `get_account`
* âœ… `get_account/{accountId}`ï¼ˆãƒ«ãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ï¼‰
* âŒ `get_account/42`ï¼ˆIDå…¥ã‚Šï¼‰ ([OpenTelemetry][1])

---

## 5) â€œå…¬å¼ã«å¯„ã›ã‚‹â€å‘½åãƒ†ãƒ³ãƒ—ãƒ¬é›†ğŸ“šâœ¨ï¼ˆã“ã‚Œä½¿ãˆã°è¿·ã‚ãªã„ï¼‰

### A. HTTPï¼ˆã‚µãƒ¼ãƒãƒ¼å´ï¼‰ğŸŒğŸ§‘â€ğŸ’»

![observer_cs_study_024_http_naming](./picture/observer_cs_study_024_http_naming.png)

HTTPã®Spanåã¯ã€åŸºæœ¬ã“ã†ğŸ‘‡

* **`{method} {target}`**
  target ã¯ **http.routeï¼ˆãƒ«ãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ï¼‰** ã‚’ä½¿ã†ã®ãŒæ¨å¥¨âœ¨
  ãã—ã¦ **ç”Ÿã®ãƒ‘ã‚¹ï¼ˆ`/orders/123` ã¿ãŸã„ãªã®ï¼‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ã£ã¡ã‚ƒãƒ€ãƒ¡**ã£ã¦æ˜è¨˜ã•ã‚Œã¦ã‚‹ã‚ˆâš ï¸ ([OpenTelemetry][2])

ä¾‹ğŸ‘‡

* âœ… `GET /orders/{orderId}`
* âœ… `POST /checkout`

---

### B. DBï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ï¼‰ğŸ—„ï¸ğŸ˜

![observer_cs_study_024_db_naming](./picture/observer_cs_study_024_db_naming.png)

DBã®Spanåã¯ã€ã–ã£ãã‚Šã“ã®å„ªå…ˆé †ğŸ‘‡

1. `db.query.summary` ãŒã‚ã‚Œã°ãã‚Œ
2. ãªã‘ã‚Œã° `{db.operation.name} {target}`
   â€¦ã¿ãŸã„ãªãƒ«ãƒ¼ãƒ«ãŒæ•´ç†ã•ã‚Œã¦ã‚‹ã‚ˆâœ¨ ([OpenTelemetry][3])

ä¾‹ğŸ‘‡

* âœ… `SELECT orders`
* âœ… `INSERT shipping_details`
  ï¼ˆé•·ã„SQLå…¨æ–‡ã¯åå‰ã«ã—ãªã„ã€‚å¿…è¦ãªã‚‰å±æ€§ã¸ğŸ’ï¼‰

---

### C. ã‚¢ãƒ—ãƒªå†…ï¼ˆå†…éƒ¨Spanï¼‰ğŸ ğŸ§ 

![observer_cs_study_024_internal_naming](./picture/observer_cs_study_024_internal_naming.png)

ã“ã“ã¯ã‚ãªãŸã®è¨­è¨ˆã‚»ãƒ³ã‚¹ãŒå…‰ã‚‹ã¨ã“ã‚âœ¨
ãŠã™ã™ã‚ã¯ã€Œæ¥­å‹™ã®æ„å‘³ã€ãŒä¼ã‚ã‚‹åå‰ğŸ‘‡

**ãŠã™ã™ã‚å½¢å¼ï¼ˆã©ã‚Œã‹ã«çµ±ä¸€ï¼ï¼‰**

* `Orders.Create`ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³/ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼‰
* `Checkout.Run`ï¼ˆå·¥ç¨‹ï¼‰
* `Inventory.Reserve`ï¼ˆæ¥­å‹™å‹•è©ï¼‹å¯¾è±¡ï¼‰

**é¿ã‘ãŸã„**

* `Service1.DoWork2`ï¼ˆæ„å‘³ãŒè–„ã„ï¼‰
* `CreateOrder_20260117_foo`ï¼ˆä¸€æ„å€¤ã£ã½ã„ã®æ··ãœã‚‹ï¼‰ğŸ™…â€â™€ï¸

---

## 6) å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆæ‰‹ã§Spanã‚’ä½œã‚‹ã¨ãï¼‰ğŸ§‘â€ğŸ’»âœ¨

OpenTelemetry .NETã§ã¯ã€æ‰‹å‹•è¨ˆè£…ã™ã‚‹å ´æ‰€ã« **ActivitySource** ã‚’ç”¨æ„ã—ã¦Spanï¼ˆActivityï¼‰ã‚’ä½œã‚‹ã®ãŒå®šç•ªã ã‚ˆğŸ§µ ([OpenTelemetry][4])
ã‚ã¨ã€`StartActivity` ã®å¼•æ•°ã®åå‰ãŒâ€œè¦‹ãˆã‚‹åå‰â€ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ï¼ˆUIã§ã¯DisplayNameï¼‰ã£ã¦ç†è§£ã§OKğŸ‘Œ
DisplayNameã¯UIç”¨ã§ã€æœªè¨­å®šãªã‚‰OperationNameã¨åŒã˜ã«ãªã‚‹ã‚ˆâœ¨ ([Microsoft Learn][5])

```csharp
using System.Diagnostics;

public static class Observability
{
    public static readonly ActivitySource ActivitySource = new("MyApp.Orders");
}

public class OrderService
{
    public async Task CreateOrderAsync(string orderId)
    {
        // âœ… ä½ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ãªSpanåï¼ˆIDã¯å…¥ã‚Œãªã„ï¼‰
        using var activity = Observability.ActivitySource.StartActivity(
            "Orders.Create",
            ActivityKind.Internal);

        // âœ… IDã¯â€œå±æ€§â€ã¸
        activity?.SetTag("order.id", orderId);

        // ã“ã“ã§DBã‚„å¤–éƒ¨APIãŒèµ°ã‚‹æƒ³å®šâ€¦
        await Task.Delay(50);
    }
}
```

**ã‚³ãƒ„ğŸ’¡**

* Spanåï¼š**å›ºå®šã®ãƒ†ãƒ³ãƒ—ãƒ¬**ï¼ˆå¢—ãˆãªã„ï¼‰
* å¤‰åŒ–ã™ã‚‹å€¤ï¼š**Tagï¼ˆå±æ€§ï¼‰**ã«å…¥ã‚Œã‚‹
  ã“ã®åˆ†é›¢ãŒâ€œå¼·ã„ãƒˆãƒ¬ãƒ¼ã‚¹â€ã‚’ä½œã‚‹ã‚ˆğŸ”¥ ([OpenTelemetry][1])

---

## 7) â€œã¡ã‚‡ã†ã©ã„ã„â€Spanãƒ„ãƒªãƒ¼ä¾‹ğŸŒ³âœ¨ï¼ˆå®Œæˆå½¢ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰

![observer_cs_study_024_span_tree_example](./picture/observer_cs_study_024_span_tree_example.png)

ãŸã¨ãˆã°ã€Œæ³¨æ–‡ä½œæˆã€ãªã‚‰ğŸ‘‡

* `POST /orders`ï¼ˆHTTP SERVERï¼‰

  * `Orders.Create`ï¼ˆINTERNALï¼šæ¥­å‹™ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

    * `SELECT orders`ï¼ˆDB CLIENTï¼‰ ([OpenTelemetry][3])
    * `HTTP POST /payment/authorize`ï¼ˆHTTP CLIENTï¼šãƒ†ãƒ³ãƒ—ãƒ¬ã§ï¼‰ ([OpenTelemetry][2])

ã“ã†ã—ã¦ãŠãã¨ã€é…ã„æ™‚ã«
ã€ŒHTTPï¼Ÿæ¥­å‹™ï¼ŸDBï¼Ÿå¤–éƒ¨ï¼Ÿã€ãŒä¸€ç¬ã§åˆ†ã‹ã‚‹ğŸ‘€âœ¨

---

## 8) ãƒŸãƒ‹æ¼”ç¿’ï¼ˆã“ã®ç« ã®ãƒ¡ã‚¤ãƒ³ï¼‰ğŸ“ğŸ“

### æ¼”ç¿’1ï¼šSpanã‚’â€œåˆ‡ã‚‹å ´æ‰€â€ã‚’æ±ºã‚ã‚ˆã†ğŸ—ºï¸âœ‚ï¸

é¡Œæã‚¢ãƒ—ãƒªã® `/work` ã‚’æƒ³åƒã—ã¦ã€ä¸‹ã®è¡¨ã‚’åŸ‹ã‚ã¦ã¿ã¦ã­âœ¨

* å…¥å£ï¼ˆHTTPï¼‰
* æ¥­å‹™ï¼ˆUseCaseï¼‰
* å¤–éƒ¨I/Oï¼ˆDB / å¤–éƒ¨APIï¼‰

**è¡¨ãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆã‚³ãƒ”ãƒšOKï¼‰**

* ãƒ«ãƒ¼ãƒˆSpanåï¼š`{method} {route}`ï¼ˆä¾‹ï¼š`GET /work`ï¼‰ ([OpenTelemetry][2])
* å­Span1ï¼ˆæ¥­å‹™ï¼‰ï¼š`Work.Run`ï¼ˆä¾‹ï¼‰
* å­Span2ï¼ˆDBï¼‰ï¼š`SELECT xxx`ï¼ˆä¾‹ï¼‰ ([OpenTelemetry][3])
* å­Span3ï¼ˆå¤–éƒ¨HTTPï¼‰ï¼š`GET /something/{id}`ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬åŒ–ï¼‰ ([OpenTelemetry][2])

---

### æ¼”ç¿’2ï¼šãƒ€ãƒ¡å‘½åã‚’ç›´ã—ã¦â€œä½ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£åŒ–â€ğŸ·ï¸ğŸ§¹

æ¬¡ã®Spanåã€ã©ã“ãŒãƒ€ãƒ¡ã§ã€ã©ã†ç›´ã™ï¼Ÿâœï¸

* âŒ `GET /users/12345`
  âœ… `GET /users/{userId}` ï¼‹ `user.id=12345` ã‚’Tagã¸ ([OpenTelemetry][1])

* âŒ `CreateOrder_20260117_ABC`
  âœ… `Orders.Create` ï¼‹ å¤‰åŒ–æƒ…å ±ã¯Tagã¸ ([OpenTelemetry][1])

---

### æ¼”ç¿’3ï¼šSpanåãƒ†ãƒ³ãƒ—ãƒ¬ã‚’â€œ1æšãƒ«ãƒ¼ãƒ«â€ã«ã™ã‚‹ğŸ“„âœ¨

ã‚ãªãŸã®ã‚¢ãƒ—ãƒªç”¨ã«ã€æ¬¡ã‚’1ã‚»ãƒƒãƒˆä½œã£ã¦å®ŒæˆğŸ‰

* HTTPï¼š`{method} {route}`
* å†…éƒ¨ï¼š`Domain.Operation`
* DBï¼š`{operation} {target}`
* å¤–éƒ¨HTTPï¼š`{method} {target}`ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ï¼‰ ([OpenTelemetry][2])

---

## 9) AIæ´»ç”¨ï¼ˆCopilot / Codexï¼‰ğŸ¤–âœ¨

**ã‚„ã‚‰ã›ã‚‹ã¨å¼·ã„ã‚¿ã‚¹ã‚¯**ã¯ã“ã‚ŒğŸ‘‡

* ã€Œã“ã®å‡¦ç†ã®Spanãƒ„ãƒªãƒ¼æ¡ˆã‚’3ãƒ‘ã‚¿ãƒ¼ãƒ³å‡ºã—ã¦ï¼ˆç²—/ä¸­/ç´°ï¼‰ã€ğŸ§ ğŸŒ³
* ã€ŒSpanåãŒé«˜ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ã«ãªã£ã¦ãªã„ã‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã€ğŸ‘€âœ…
* ã€Œ`ActivitySource` ã‚’ä½¿ã£ã¦ `Orders.Create` span ã‚’è¿½åŠ ã—ã¦ã€IDã¯Tagã«ã—ã¦ã€ğŸ§µğŸ·ï¸
* ã€ŒHTTP/DBã®Spanåã‚’semantic conventionså¯„ã›ã«ä¿®æ­£ã—ã¦ã€ğŸ“šâœ¨ ([OpenTelemetry][2])

---

## ã¾ã¨ã‚ğŸ€

* Spanã¯ã€Œå¢ƒç•Œãƒ»å¾…ã¡æ™‚é–“ãƒ»å·¥ç¨‹ãƒ»é‡è¦åº¦ã€ã§åˆ‡ã‚‹âœ‚ï¸âœ¨
* Spanåã¯ã€Œå¢—ãˆãªã„ãƒ†ãƒ³ãƒ—ãƒ¬ã€ãŒå‘½ğŸ·ï¸ï¼ˆIDã¯Tagã¸ğŸ’ï¼‰ ([OpenTelemetry][1])
* HTTPã¯ `{method} {route-template}` ãŒåŸºæœ¬ğŸŒ ([OpenTelemetry][2])
* DBã¯ `db.query.summary` ã‹ `{operation} {target}` ã«å¯„ã›ã‚‹ğŸ—„ï¸ ([OpenTelemetry][3])

æ¬¡ã®ç¬¬25ç« ã¯ã€ã“ã“ã§ä½œã£ãŸSpanãŸã¡ãŒ**é€”ä¸­ã§é€”åˆ‡ã‚Œãªã„ãŸã‚ã®â€œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¼æ’­â€**ã«é€²ã‚€ã‚ˆğŸ”—ğŸŒ¬ï¸âœ¨

[1]: https://opentelemetry.io/docs/specs/otel/trace/api/ "Tracing API | OpenTelemetry"
[2]: https://opentelemetry.io/docs/specs/semconv/http/http-spans/ "Semantic conventions for HTTP spans | OpenTelemetry"
[3]: https://opentelemetry.io/docs/specs/semconv/database/database-spans/ "Semantic conventions for database client spans | OpenTelemetry"
[4]: https://opentelemetry.io/docs/languages/dotnet/instrumentation/?utm_source=chatgpt.com "Instrumentation"
[5]: https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.activity.displayname?view=net-10.0&utm_source=chatgpt.com "Activity.DisplayName Property (System.Diagnostics)"
